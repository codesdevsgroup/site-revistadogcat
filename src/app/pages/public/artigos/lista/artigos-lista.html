<section class="articles-list container py-4" aria-labelledby="articles-list-title">
  <header class="section-header d-flex justify-content-between align-items-center mb-4">
    <div>
      <h2 id="articles-list-title">Artigos</h2>
      <p class="section-subtitle">Explore os conteúdos mais recentes da Revista DogCat</p>
    </div>
  </header>

  <div class="filters mb-4 d-flex gap-3 align-items-center">
    <div class="form-group">
      <label for="category-filter" class="form-label">Filtrar por Categoria</label>
      <select id="category-filter" class="form-select" (change)="onCategoryFilterChange($event)">
        <option selected value="">Todas</option>
        <option *ngFor="let categoria of categorias" [value]="categoria">{{ categoria }}</option>
      </select>
    </div>
    <button class="btn btn-light" (click)="limparFiltro()" *ngIf="categoriaSelecionada">
      Limpar Filtro
    </button>
  </div>

  <div *ngIf="loading" class="loading">Carregando artigos...</div>
  <div *ngIf="error" class="error" role="alert">{{ error }}</div>

  <div class="articles-grid masonry-grid" *ngIf="!loading && !error">
    <div class="article-card masonry-item" *ngFor="let artigo of artigos; trackBy: trackById">
      <a [routerLink]="['/artigos', artigo.id]" class="card-link" title="Ler artigo">
        <img
          class="cover"
          [src]="getImagemUrl(artigo.imagemCapa)"
          [alt]="artigo.titulo"
          loading="lazy"
        />
        <div class="card-content">
          <h3 class="title">{{ artigo.titulo }}</h3>
          <p class="excerpt" *ngIf="artigo.resumo">{{ artigo.resumo }}</p>
          <div class="meta">
            <span class="author">✍️ {{ artigo.autor }}</span>
            <span class="date">{{ artigo.dataPublicacao | date:'dd/MM/yyyy' }}</span>
            <span class="category" *ngIf="artigo.categoria">{{ artigo.categoria }}</span>
          </div>
        </div>
      </a>
    </div>
  </div>
</section>