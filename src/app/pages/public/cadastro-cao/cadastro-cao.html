<div class="cadastro-container">
  <!-- Hero Header -->
  <section class="hero-header">
    <div class="container">
      <div class="row justify-content-center text-center">
        <div class="col-lg-8">
          <div class="hero-content">
            <div class="hero-icon">
              üèÜ
            </div>
            <h1>Expo Dog BR</h1>
            <p class="hero-subtitle">A primeira mostra 100% online do Brasil</p>
            <p class="hero-description">
              Com tradi√ß√£o de mais de 150 anos, as exposi√ß√µes de c√£es ganham um novo formato que democratiza o acesso e valoriza criadores e suas ra√ßas em todo o pa√≠s.
            </p>
            
            <!-- Op√ß√µes de Cadastro -->
            <div class="registration-options">
              <div class="option-card active" (click)="scrollToForm()">
                <div class="option-icon">üíª</div>
                <h3>Cadastro Online</h3>
                <p>Preencha o formul√°rio abaixo</p>
                <div class="option-badge">Recomendado</div>
              </div>
              
              <div class="option-divider">ou</div>
              
              <div class="option-card whatsapp-option" (click)="openWhatsAppRegistration()">
                <div class="option-icon">üì±</div>
                <h3>Cadastro via WhatsApp</h3>
                <p>Atendimento personalizado</p>
                <div class="option-note">Alternativa ao formul√°rio</div>
              </div>
            </div>
            
            <div class="form-instruction" (click)="scrollToForm()">
              <p>üëá Complete o formul√°rio abaixo para se cadastrar na Expo Dog BR</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Progress Steps -->
  <section class="progress-section">
    <div class="container">
      <div class="row">
        <div class="col-12">
          <div class="progress-steps">
            <div class="step" [class.active]="currentStep >= 1" [class.completed]="currentStep > 1">
              <div class="step-number">1</div>
              <div class="step-label">Dados Pessoais</div>
            </div>
            <div class="step-line" [class.active]="currentStep > 1"></div>
            <div class="step" [class.active]="currentStep >= 2" [class.completed]="currentStep > 2">
              <div class="step-number">2</div>
              <div class="step-label">Dados do C√£o</div>
            </div>
            <div class="step-line" [class.active]="currentStep > 2"></div>
            <div class="step" [class.active]="currentStep >= 3" [class.completed]="currentStep > 3">
              <div class="step-number">3</div>
              <div class="step-label">V√≠deo de Apresenta√ß√£o</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Form Content -->
  <section class="form-section">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-8">
          <div class="form-card">
            <!-- Step 1: Dados Pessoais -->
            <div class="form-step" [class.active]="currentStep === 1">
              <div class="step-header">
                <h2>üë§ Dados Pessoais</h2>
                <p>Informa√ß√µes do propriet√°rio/criador</p>
              </div>
              
              <!-- Sele√ß√£o de Propriet√°rio -->
              <div class="proprietario-selection mb-4">
                <div class="selection-card">
                  <h4><i class="fas fa-user-friends"></i> O propriet√°rio do c√£o √© diferente de voc√™?</h4>
                  <div class="toggle-switch-container">
                    <div class="toggle-switch-wrapper">
                      <span class="toggle-label" [class.active]="!proprietarioDiferente">N√ÉO</span>
                      <div class="toggle-switch" [class.active]="proprietarioDiferente" (click)="toggleProprietarioDiferente()">
                        <div class="toggle-slider"></div>
                      </div>
                      <span class="toggle-label" [class.active]="proprietarioDiferente">SIM</span>
                    </div>
                    <div class="toggle-description">
                      <span *ngIf="!proprietarioDiferente">Voc√™ √© o propriet√°rio do c√£o</span>
                      <span *ngIf="proprietarioDiferente">O propriet√°rio √© outra pessoa</span>
                    </div>
                  </div>
                </div>
              </div>
              
              <!-- Formul√°rio de dados do propriet√°rio (apenas se for diferente do usu√°rio logado) -->
              <form [formGroup]="userForm" class="step-form" *ngIf="proprietarioDiferente">
                <div class="form-section-title">
                  <h4>üìù Dados do Propriet√°rio</h4>
                  <p>Preencha as informa√ß√µes do propriet√°rio do c√£o</p>
                </div>
                
                <div class="row">
                  <div class="col-md-6 mb-3">
                    <label class="form-label">Nome Completo *</label>
                    <input type="text" class="form-control" formControlName="nomeCompleto" placeholder="Seu nome completo">
                    <div class="invalid-feedback" *ngIf="userForm.get('nomeCompleto')?.invalid && userForm.get('nomeCompleto')?.touched">
                      Nome completo √© obrigat√≥rio
                    </div>
                  </div>
                  <div class="col-md-6 mb-3">
                    <label class="form-label">CPF *</label>
                    <input type="text" class="form-control" formControlName="cpf" placeholder="000.000.000-00" mask="000.000.000-00">
                    <div class="invalid-feedback" *ngIf="userForm.get('cpf')?.invalid && userForm.get('cpf')?.touched">
                      CPF √© obrigat√≥rio
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-6 mb-3">
                    <label class="form-label">E-mail *</label>
                    <input type="email" class="form-control" formControlName="email" placeholder="seu@email.com">
                    <div class="invalid-feedback" *ngIf="userForm.get('email')?.invalid && userForm.get('email')?.touched">
                      E-mail v√°lido √© obrigat√≥rio
                    </div>
                  </div>
                  <div class="col-md-6 mb-3">
                    <label class="form-label">Telefone/WhatsApp *</label>
                    <input type="text" class="form-control" formControlName="telefone" placeholder="(11) 99999-9999" mask="(00) 00000-0000">
                    <div class="invalid-feedback" *ngIf="userForm.get('telefone')?.invalid && userForm.get('telefone')?.touched">
                      Telefone √© obrigat√≥rio
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-8 mb-3">
                    <label class="form-label">Endere√ßo</label>
                    <input type="text" class="form-control" formControlName="endereco" placeholder="Rua, n√∫mero, bairro">
                    <small class="form-text">O endere√ßo ser√° preenchido automaticamente pelo CEP, mas voc√™ pode edit√°-lo</small>
                  </div>
                  <div class="col-md-4 mb-3">
                    <label class="form-label">CEP</label>
                    <div class="input-group">
                      <input type="text" class="form-control" 
                             [class.cep-loading]="cepStatus === 'loading'"
                             [class.cep-success]="cepStatus === 'success'"
                             [class.cep-error]="cepStatus === 'error'"
                             formControlName="cep" placeholder="00000-000" 
                             maxlength="9" (input)="formatCep($event)" (blur)="onCepChange($event)">
                      <div class="input-group-append" *ngIf="isCepLoading">
                        <span class="input-group-text">
                          <div class="spinner-border spinner-border-sm" role="status">
                            <span class="sr-only">Buscando...</span>
                          </div>
                        </span>
                      </div>
                      <div class="input-group-append" *ngIf="cepStatus === 'success' && !isCepLoading">
                        <span class="input-group-text text-success">
                          ‚úì
                        </span>
                      </div>
                      <div class="input-group-append" *ngIf="cepStatus === 'error' && !isCepLoading">
                        <span class="input-group-text text-danger">
                          ‚úó
                        </span>
                      </div>
                    </div>
                    <small class="form-text" 
                           [class.text-success]="cepStatus === 'success'"
                           [class.text-danger]="cepStatus === 'error'">
                      <span *ngIf="cepStatus === 'none' || cepStatus === 'loading'">Digite o CEP para preenchimento autom√°tico</span>
                      <span *ngIf="cepStatus === 'success'">‚úì Endere√ßo encontrado e preenchido</span>
                      <span *ngIf="cepStatus === 'error'">‚úó CEP n√£o encontrado</span>
                    </small>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-6 mb-3">
                    <label class="form-label">Cidade</label>
                    <input type="text" class="form-control" formControlName="cidade" placeholder="Sua cidade">
                  </div>
                  <div class="col-md-6 mb-3">
                    <label class="form-label">Estado</label>
                    <select class="form-control" formControlName="estado">
                      <option value="">Selecione</option>
                      <option value="AC">Acre</option>
                      <option value="AL">Alagoas</option>
                      <option value="AP">Amap√°</option>
                      <option value="AM">Amazonas</option>
                      <option value="BA">Bahia</option>
                      <option value="CE">Cear√°</option>
                      <option value="DF">Distrito Federal</option>
                      <option value="ES">Esp√≠rito Santo</option>
                      <option value="GO">Goi√°s</option>
                      <option value="MA">Maranh√£o</option>
                      <option value="MT">Mato Grosso</option>
                      <option value="MS">Mato Grosso do Sul</option>
                      <option value="MG">Minas Gerais</option>
                      <option value="PA">Par√°</option>
                      <option value="PB">Para√≠ba</option>
                      <option value="PR">Paran√°</option>
                      <option value="PE">Pernambuco</option>
                      <option value="PI">Piau√≠</option>
                      <option value="RJ">Rio de Janeiro</option>
                      <option value="RN">Rio Grande do Norte</option>
                      <option value="RS">Rio Grande do Sul</option>
                      <option value="RO">Rond√¥nia</option>
                      <option value="RR">Roraima</option>
                      <option value="SC">Santa Catarina</option>
                      <option value="SP">S√£o Paulo</option>
                      <option value="SE">Sergipe</option>
                      <option value="TO">Tocantins</option>
                    </select>
                  </div>
                </div>
              </form>
              
              <!-- Informa√ß√µes do usu√°rio logado (quando ele √© o propriet√°rio) -->
              <div class="user-info-display" *ngIf="!proprietarioDiferente">
                <div class="form-section-title">
                  <h4>‚úÖ Dados do Propriet√°rio (Seus dados)</h4>
                  <p>Utilizando as informa√ß√µes da sua conta</p>
                </div>
                
                <div class="user-data-card">
                  <div class="row">
                    <div class="col-md-6">
                      <div class="data-item">
                        <label>Nome Completo</label>
                        <div class="data-value">{{ usuarioLogado.nomeCompleto }}</div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="data-item">
                        <label>CPF</label>
                        <div class="data-value">{{ usuarioLogado.cpf }}</div>
                      </div>
                    </div>
                  </div>
                  
                  <div class="row">
                    <div class="col-md-6">
                      <div class="data-item">
                        <label>E-mail</label>
                        <div class="data-value">{{ usuarioLogado.email }}</div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="data-item">
                        <label>Telefone</label>
                        <div class="data-value">{{ usuarioLogado.telefone }}</div>
                      </div>
                    </div>
                  </div>
                  
                  <div class="row">
                    <div class="col-md-12">
                      <div class="data-item">
                        <label>Endere√ßo</label>
                        <div class="data-value">{{ usuarioLogado.endereco }}, {{ usuarioLogado.cidade }} - {{ usuarioLogado.estado }}</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="form-actions">
                <button type="button" class="btn btn-primary" (click)="nextStep()" [disabled]="proprietarioDiferente && !userForm.valid">
                  Pr√≥ximo: Dados do C√£o
                  <i class="icon">‚Üí</i>
                </button>
              </div>
            </div>

            <!-- Step 2: Dados do C√£o -->
            <div class="form-step" [class.active]="currentStep === 2">
              <div class="step-header">
                <h2>üêï Dados do C√£o</h2>
                <p>Informa√ß√µes completas do seu c√£o</p>
              </div>
              
              <form [formGroup]="dogForm" class="step-form">
                <div class="row">
                  <div class="col-md-6 mb-3">
                    <label class="form-label">Nome do C√£o *</label>
                    <input type="text" class="form-control" formControlName="nome" placeholder="Nome do seu c√£o">
                    <div class="invalid-feedback" *ngIf="dogForm.get('nome')?.invalid && dogForm.get('nome')?.touched">
                      Nome do c√£o √© obrigat√≥rio
                    </div>
                  </div>
                  <div class="col-md-6 mb-3">
                    <label class="form-label">Ra√ßa *</label>
                    <select class="form-control" formControlName="raca">
                      <option value="">Selecione a ra√ßa</option>
                      <option value="golden-retriever">Golden Retriever</option>
                      <option value="labrador">Labrador</option>
                      <option value="pastor-alemao">Pastor Alem√£o</option>
                      <option value="border-collie">Border Collie</option>
                      <option value="bulldog-frances">Bulldog Franc√™s</option>
                      <option value="poodle">Poodle</option>
                      <option value="shih-tzu">Shih Tzu</option>
                      <option value="yorkshire">Yorkshire</option>
                      <option value="outro">Outro</option>
                    </select>
                    <div class="invalid-feedback" *ngIf="dogForm.get('raca')?.invalid && dogForm.get('raca')?.touched">
                      Ra√ßa √© obrigat√≥ria
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-3 mb-3">
                    <label class="form-label">Sexo *</label>
                    <select class="form-control" formControlName="sexo">
                      <option value="">Selecione</option>
                      <option value="macho">Macho</option>
                      <option value="femea">F√™mea</option>
                    </select>
                  </div>
                  <div class="col-md-3 mb-3">
                    <label class="form-label">Data de Nascimento *</label>
                    <input type="date" class="form-control" formControlName="dataNascimento">
                  </div>
                  <div class="col-md-3 mb-3">
                    <label class="form-label">Peso (kg)</label>
                    <input type="number" class="form-control" formControlName="peso" placeholder="0.0" step="0.1">
                  </div>
                  <div class="col-md-3 mb-3">
                    <label class="form-label">Altura (cm)</label>
                    <input type="number" class="form-control" formControlName="altura" placeholder="0">
                  </div>
                </div>

                <!-- Se√ß√£o de Upload de Fotos Obrigat√≥rias -->
                <div class="photos-section mb-4">
                  <div class="section-card">
                    <h4><i class="fas fa-camera"></i> Fotos do C√£o *</h4>
                    <p class="section-description">As fotos s√£o obrigat√≥rias para participa√ß√£o na Expo Dog. Siga as orienta√ß√µes para melhor avalia√ß√£o.</p>
                    
                    <div class="row">
                      <!-- Foto de Perfil -->
                      <div class="col-md-6 mb-3">
                        <label class="form-label">Foto de Perfil *</label>
                        <div class="photo-upload-container">
                          <div class="reference-image">
                            <img src="./dog/perfil.jpg" alt="Exemplo de foto de perfil" class="reference-img">
                            <div class="reference-label">Exemplo</div>
                          </div>
                          <div class="upload-area" [class.has-file]="fotoPerfil">
                            <input type="file" id="fotoPerfil" (change)="onFotoPerfilSelected($event)" accept="image/jpeg,image/jpg,image/png,image/webp" class="file-input">
                            <label for="fotoPerfil" class="file-upload-label">
                              <div class="upload-content" *ngIf="!fotoPerfil">
                                <i class="fas fa-camera upload-icon"></i>
                                <span class="upload-text">Clique para enviar foto de perfil</span>
                                <small class="upload-hint">Cabe√ßa e peito do animal</small>
                              </div>
                              <div class="file-preview" *ngIf="fotoPerfil">
                                <img [src]="fotoPerfilPreview" alt="Preview" class="preview-img">
                                <div class="file-info">
                                  <span class="file-name">{{ fotoPerfil.name }}</span>
                                  <span class="file-size">{{ formatFileSize(fotoPerfil.size) }}</span>
                                </div>
                                <button type="button" class="btn-remove" (click)="removeFotoPerfil($event)">
                                  <i class="fas fa-times"></i>
                                </button>
                              </div>
                            </label>
                          </div>
                        </div>
                        <small class="form-text">JPEG, JPG, PNG, WebP ‚Ä¢ M√°x. 5MB ‚Ä¢ Min. 300x300px</small>
                        <div class="invalid-feedback" *ngIf="!fotoPerfil && dogForm.get('nome')?.touched">
                          Foto de perfil √© obrigat√≥ria
                        </div>
                      </div>

                      <!-- Foto Lateral -->
                      <div class="col-md-6 mb-3">
                        <label class="form-label">Foto Lateral *</label>
                        <div class="photo-upload-container">
                          <div class="reference-image">
                            <img src="./dog/lateral.jpg" alt="Exemplo de foto lateral" class="reference-img">
                            <div class="reference-label">Exemplo</div>
                          </div>
                          <div class="upload-area" [class.has-file]="fotoLateral">
                            <input type="file" id="fotoLateral" (change)="onFotoLateralSelected($event)" accept="image/jpeg,image/jpg,image/png,image/webp" class="file-input">
                            <label for="fotoLateral" class="file-upload-label">
                              <div class="upload-content" *ngIf="!fotoLateral">
                                <i class="fas fa-camera upload-icon"></i>
                                <span class="upload-text">Clique para enviar foto lateral</span>
                                <small class="upload-hint">Animal de perfil completo</small>
                              </div>
                              <div class="file-preview" *ngIf="fotoLateral">
                                <img [src]="fotoLateralPreview" alt="Preview" class="preview-img">
                                <div class="file-info">
                                  <span class="file-name">{{ fotoLateral.name }}</span>
                                  <span class="file-size">{{ formatFileSize(fotoLateral.size) }}</span>
                                </div>
                                <button type="button" class="btn-remove" (click)="removeFotoLateral($event)">
                                  <i class="fas fa-times"></i>
                                </button>
                              </div>
                            </label>
                          </div>
                        </div>
                        <small class="form-text">JPEG, JPG, PNG, WebP ‚Ä¢ M√°x. 5MB ‚Ä¢ Min. 400x300px</small>
                        <div class="invalid-feedback" *ngIf="!fotoLateral && dogForm.get('nome')?.touched">
                          Foto lateral √© obrigat√≥ria
                        </div>
                      </div>
                    </div>
                    
                    <div class="photo-guidelines">
                      <h5><i class="fas fa-info-circle"></i> Orienta√ß√µes para as Fotos</h5>
                      <ul>
                        <li><strong>Foto de Perfil:</strong> Mostre claramente a cabe√ßa e peito do animal, similar ao exemplo</li>
                        <li><strong>Foto Lateral:</strong> Animal em posi√ß√£o de exposi√ß√£o, mostrando o perfil completo</li>
                        <li><strong>Qualidade:</strong> Imagens n√≠tidas, bem iluminadas e com boa resolu√ß√£o</li>
                        <li><strong>Fundo:</strong> Prefira fundos neutros que destaquem o animal</li>
                      </ul>
                    </div>
                  </div>
                </div>

                <!-- Se√ß√£o Pedigree -->
                <div class="pedigree-section mb-4">
                  <div class="section-card">
                    <h4><i class="fas fa-certificate"></i> O c√£o possui pedigree?</h4>
                    <div class="toggle-switch-container">
                      <div class="toggle-switch-wrapper">
                        <span class="toggle-label" [class.active]="!temPedigree">N√ÉO</span>
                        <div class="toggle-switch" [class.active]="temPedigree" (click)="togglePedigree()">
                          <div class="toggle-slider"></div>
                        </div>
                        <span class="toggle-label" [class.active]="temPedigree">SIM</span>
                      </div>
                      <div class="toggle-description">
                        <span *ngIf="!temPedigree">O c√£o n√£o possui pedigree registrado</span>
                        <span *ngIf="temPedigree">O c√£o possui pedigree - preencha os dados abaixo</span>
                      </div>
                    </div>
                    
                    <div class="pedigree-details" *ngIf="temPedigree">
                      <div class="row">
                        <div class="col-md-12 mb-3">
                          <label class="form-label">N√∫mero do Registro de Pedigree *</label>
                          <input type="text" class="form-control" formControlName="registroPedigree" placeholder="N√∫mero do registro CBKC, FCI ou outro √≥rg√£o oficial">
                          <div class="invalid-feedback" *ngIf="dogForm.get('registroPedigree')?.invalid && dogForm.get('registroPedigree')?.touched">
                            Registro de pedigree √© obrigat√≥rio quando o c√£o possui pedigree
                          </div>
                        </div>
                      </div>
                      
                      <div class="row">
                        <div class="col-md-6 mb-3">
                          <label class="form-label">Foto do Pedigree - Frente *</label>
                          <div class="file-upload-area">
                            <input type="file" id="pedigreeFrente" (change)="onPedigreeFrenteSelected($event)" accept="image/*,.pdf" class="file-input">
                            <label for="pedigreeFrente" class="file-upload-label">
                              <i class="fas fa-cloud-upload-alt"></i>
                              <span *ngIf="!pedigreeFrente">Clique para enviar a frente do pedigree</span>
                              <span *ngIf="pedigreeFrente" class="file-selected">{{ pedigreeFrente.name }}</span>
                            </label>
                          </div>
                          <small class="form-text">Formatos aceitos: JPG, PNG, PDF (m√°x. 5MB)</small>
                        </div>
                        
                        <div class="col-md-6 mb-3">
                          <label class="form-label">Foto do Pedigree - Verso *</label>
                          <div class="file-upload-area">
                            <input type="file" id="pedigreeVerso" (change)="onPedigreeVersoSelected($event)" accept="image/*,.pdf" class="file-input">
                            <label for="pedigreeVerso" class="file-upload-label">
                              <i class="fas fa-cloud-upload-alt"></i>
                              <span *ngIf="!pedigreeVerso">Clique para enviar o verso do pedigree</span>
                              <span *ngIf="pedigreeVerso" class="file-selected">{{ pedigreeVerso.name }}</span>
                            </label>
                          </div>
                          <small class="form-text">Formatos aceitos: JPG, PNG, PDF (m√°x. 5MB)</small>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                
                <!-- Se√ß√£o Microchip -->
                <div class="microchip-section mb-4">
                  <div class="section-card">
                    <h4><i class="fas fa-microchip"></i> O c√£o possui microchip?</h4>
                    <div class="toggle-switch-container">
                      <div class="toggle-switch-wrapper">
                        <span class="toggle-label" [class.active]="!temMicrochip">N√ÉO</span>
                        <div class="toggle-switch" [class.active]="temMicrochip" (click)="toggleMicrochip()">
                          <div class="toggle-slider"></div>
                        </div>
                        <span class="toggle-label" [class.active]="temMicrochip">SIM</span>
                      </div>
                      <div class="toggle-description">
                        <span *ngIf="!temMicrochip">O c√£o n√£o possui microchip implantado</span>
                        <span *ngIf="temMicrochip">O c√£o possui microchip - informe o n√∫mero abaixo</span>
                      </div>
                    </div>
                    
                    <div class="microchip-details" *ngIf="temMicrochip">
                      <div class="row">
                        <div class="col-md-8 mb-3">
                          <label class="form-label">N√∫mero do Microchip *</label>
                          <input type="text" class="form-control" formControlName="numeroMicrochip" placeholder="Digite o n√∫mero do microchip" maxlength="15">
                          <small class="form-text">N√∫mero de identifica√ß√£o √∫nico do microchip</small>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-6 mb-3">
                    <label class="form-label">Nome do Pai</label>
                    <input type="text" class="form-control" formControlName="nomePai" placeholder="Nome do pai">
                  </div>
                  <div class="col-md-6 mb-3">
                    <label class="form-label">Nome da M√£e</label>
                    <input type="text" class="form-control" formControlName="nomeMae" placeholder="Nome da m√£e">
                  </div>
                </div>

                <div class="row">
                  <div class="col-12 mb-3">
                    <label class="form-label">T√≠tulos e Conquistas</label>
                    <textarea class="form-control" formControlName="titulos" rows="3" placeholder="Descreva t√≠tulos, exposi√ß√µes anteriores, pr√™mios..."></textarea>
                  </div>
                </div>

                <div class="row">
                  <div class="col-12 mb-3">
                    <label class="form-label">Caracter√≠sticas Especiais</label>
                    <textarea class="form-control" formControlName="caracteristicas" rows="3" placeholder="Temperamento, particularidades, qualidades de destaque..."></textarea>
                  </div>
                </div>

                <div class="form-actions">
                  <button type="button" class="btn btn-secondary" (click)="prevStep()">
                    <i class="icon">‚Üê</i>
                    Voltar
                  </button>
                  <button type="button" class="btn btn-primary" (click)="nextStep()" [disabled]="!dogForm.valid">
                    Pr√≥ximo: V√≠deo
                    <i class="icon">‚Üí</i>
                  </button>
                </div>
              </form>
            </div>

            <!-- Step 3: V√≠deo -->
            <div class="form-step" [class.active]="currentStep === 3">
              <div class="step-header">
                <h2>üé• V√≠deo de Apresenta√ß√£o</h2>
                <p>Grave um v√≠deo mostrando seu c√£o para avalia√ß√£o</p>
              </div>
              
              <form [formGroup]="videoForm" class="step-form">
                <div class="video-guidelines">
                  <h4>üìã Diretrizes para o V√≠deo</h4>
                  <ul>
                    <li>‚úÖ Dura√ß√£o: m√°ximo 20 segundos</li>
                    <li>‚úÖ Mostrar o c√£o em pose (stack)</li>
                    <li>‚úÖ Caminhar em linha reta (ida e volta)</li>
                    <li>‚úÖ Mostrar perfil lateral completo</li>
                    <li>‚úÖ Boa ilumina√ß√£o e qualidade de imagem</li>
                    <li>‚úÖ Som ambiente (sem m√∫sica)</li>
                  </ul>
                </div>

                <!-- Op√ß√£o de envio -->
                <div class="video-options">
                  <h4>üì§ Como voc√™ enviar√° o v√≠deo?</h4>
                  <div class="option-cards">
                    <div class="option-card" [class.selected]="videoOption === 'upload'" (click)="selectVideoOption('upload')">
                      <div class="option-icon">üì±</div>
                      <h5>Upload Direto</h5>
                      <p>Enviar arquivo do dispositivo</p>
                      <small>M√°x. 50MB, 20 segundos</small>
                    </div>
                    <div class="option-card" [class.selected]="videoOption === 'youtube'" (click)="selectVideoOption('youtube')">
                      <div class="option-icon">üé¨</div>
                      <h5>Link do YouTube</h5>
                      <p>V√≠deo j√° hospedado online</p>
                      <small>YouTube, Vimeo, etc.</small>
                    </div>
                    <div class="option-card" [class.selected]="videoOption === 'whatsapp'" (click)="selectVideoOption('whatsapp')">
                      <div class="option-icon">üí¨</div>
                      <h5>Envio por WhatsApp</h5>
                      <p>Enviarei depois pelo WhatsApp</p>
                      <small>Mais pr√°tico para v√≠deos maiores</small>
                    </div>
                  </div>
                </div>

                <!-- Upload Section -->
                <div class="upload-section" *ngIf="videoOption === 'upload'">
                  <div class="upload-area" (click)="triggerFileInput()">
                    <div class="upload-icon">üé¨</div>
                    <h4>Carregar V√≠deo</h4>
                    <p>Clique aqui ou arraste seu v√≠deo</p>
                    <small>Formatos aceitos: MP4, MOV, AVI (m√°x. 50MB, 20 segundos)</small>
                  </div>
                  <input type="file" #fileInput (change)="onFileSelected($event)" accept="video/*" style="display: none;">
                  
                  <div class="uploaded-file" *ngIf="selectedFile">
                    <div class="file-info">
                      <div class="file-icon">üé•</div>
                      <div class="file-details">
                        <span class="file-name">{{ selectedFile.name }}</span>
                        <span class="file-size">{{ formatFileSize(selectedFile.size) }}</span>
                      </div>
                      <button type="button" class="btn-remove" (click)="removeFile()">‚úï</button>
                    </div>
                    <div class="upload-progress" *ngIf="uploadProgress > 0">
                      <div class="progress-bar" [style.width.%]="uploadProgress"></div>
                    </div>
                  </div>
                </div>

                <!-- YouTube Link Section -->
                <div class="youtube-section" *ngIf="videoOption === 'youtube'">
                  <div class="youtube-option">
                    <label class="form-label">Link do YouTube/Vimeo *</label>
                    <input type="url" class="form-control" formControlName="videoUrl" placeholder="https://youtube.com/watch?v=..." required>
                    <small class="form-text">Cole aqui o link do seu v√≠deo j√° hospedado</small>
                    <div class="invalid-feedback" *ngIf="videoForm.get('videoUrl')?.invalid && videoForm.get('videoUrl')?.touched">
                      Link do v√≠deo √© obrigat√≥rio para esta op√ß√£o
                    </div>
                  </div>
                </div>

                <!-- WhatsApp Section -->
                <div class="whatsapp-section" *ngIf="videoOption === 'whatsapp'">
                  <div class="whatsapp-info">
                    <div class="info-card">
                      <div class="info-icon">üì±</div>
                      <div class="info-content">
                        <h5>Envio por WhatsApp</h5>
                        <p>Ap√≥s finalizar o cadastro, voc√™ receber√° instru√ß√µes para enviar o v√≠deo diretamente pelo WhatsApp.</p>
                        <p><strong>WhatsApp:</strong> {{ socialMedia.whatsapp.formattedNumber }}</p>
                        <p><strong>Prazo:</strong> Envie o v√≠deo em at√© 24 horas ap√≥s o cadastro</p>
                      </div>
                    </div>
                    
                    <div class="confirmation-check">
                      <label class="checkbox-label">
                        <input type="checkbox" formControlName="confirmaWhatsapp">
                        <span class="checkmark"></span>
                        Confirmo que enviarei o v√≠deo pelo WhatsApp em at√© 24 horas
                      </label>
                    </div>
                  </div>
                </div>

                <div class="video-notes">
                  <label class="form-label">Observa√ß√µes sobre o V√≠deo</label>
                  <textarea class="form-control" formControlName="observacoes" rows="3" placeholder="Informa√ß√µes adicionais sobre as condi√ß√µes do v√≠deo, ambiente, etc..."></textarea>
                </div>

                <div class="form-actions">
                  <button type="button" class="btn btn-secondary" (click)="prevStep()">
                    <i class="icon">‚Üê</i>
                    Voltar
                  </button>
                  <button type="button" class="btn btn-success" (click)="submitForm()" [disabled]="!isFormValid()">
                    <i class="icon">‚úì</i>
                    Finalizar Cadastro
                  </button>
                </div>
              </form>
            </div>

            <!-- Success Message -->
            <div class="form-step" [class.active]="currentStep === 4">
              <div class="success-message">
                <div class="success-icon">üéâ</div>
                <h2>Cadastro Realizado com Sucesso!</h2>
                <p>Seu c√£o foi cadastrado na Expo Dog BR. Nossa equipe entrar√° em contato em at√© 48 horas para confirmar a participa√ß√£o.</p>
                
                <div class="next-steps">
                  <h4>üìã Pr√≥ximos Passos:</h4>
                  <ol>
                    <li>Verifica√ß√£o dos dados enviados</li>
                    <li>An√°lise do v√≠deo de apresenta√ß√£o</li>
                    <li>Confirma√ß√£o da categoria de participa√ß√£o</li>
                    <li>Envio das instru√ß√µes finais</li>
                  </ol>
                </div>

                <div class="contact-info">
                  <p><strong>D√∫vidas?</strong> Entre em contato:</p>
                  <a [href]="socialMedia.whatsapp.url" class="btn btn-whatsapp" target="_blank">
          üì± WhatsApp: {{ socialMedia.whatsapp.formattedNumber }}
        </a>
                </div>

                <div class="action-buttons">
                  <a routerLink="/expo-dog" class="btn btn-primary">Voltar para Expo Dog</a>
                  <a routerLink="/" class="btn btn-secondary">Ir para Home</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>

<app-footer />
